<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ï£¿ TV XFinity Auth</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.6.1/css/bulma.min.css" integrity="sha256-v5YlJGWVLS5hQ+o48fBzCKHEP2vMNsku57x3CosYykc="
    crossorigin="anonymous" />
</head>

<body>
  <section class="hero is-medium is-light is-bold is-fullheight">
    <div class="hero-body">
      <div class="container">
        <h1 class="title">
          Unlock ï£¿ TV Apps with XFinity
        </h1>

        <div class="columns">
          <div class="column">
            <label class="label">Activation Code</label>
            <input class="input" type="text" placeholder="ABC1234" id=activationCode oninput=handleInputChange(this) autocapitalize=characters>
          </div>
          <div class="column">
            <label class="label">Network</label>
            <div class="select">
              <select name="network" id="network">
                <option value="abc">ABC</option>
                <option value="amc">AMC</option>
                <option value="cookingChannel">Cooking Channel</option>
                <option value="diy">DIU</option>
                <option value="foodNetwork">Food Network</option>
                <option value="fyi">FYI</option>
                <option value="hgtv">HGTV</option>
                <option value="history">History</option>
                <option value="lifeTime">Lifetime</option>
                <option value="travel">Travel</option>
              </select>
            </div>
          </div>
        </div>

        <div class="columns">
          <div class="column">
            <button class="button is-primary" onclick=handleButtonClick()>Unlock ðŸ”‘</button>
          </div>
        </div>

      </div>
    </div>
  </section>
  <script>
    function handleInputChange(el) {
      el.value = el.value.toUpperCase();
    }
    function handleButtonClick(el) {
      const authCode = document.getElementById('activationCode').value.toUpperCase();
      const abc = `https://api.auth.adobe.com/api/v1/authenticate?reg_code=${authCode}&noflash=true&mso_id=Comcast_SSO&requestor_id=ABC&domain_name=watchabc.com&redirect_url=http%3A%2F%2Fwww.watchabc.com%2Factivate%3Fdevice%3Dappletv`
      const aAndE = `https://api.auth.adobe.com/api/v1/authenticate?reg_code=${authCode}&noflash=true&mso_id=Comcast_SSO&requestor_id=AETV&domain_name=aetv.com&redirect_url=http%3A%2F%2Fwww.aetv.com%2Factivate%3Fdevice%3Dappletv`
      const amc = `https://api.auth.adobe.com/api/v1/authenticate?reg_code=${authCode}&noflash=true&mso_id=Comcast_SSO&requestor_id=AMC&domain_name=amc.com&redirect_url=http%3A%2F%2Fwww.amc.com%2Factivate%3Fdevice%3Dappletv`
      const cookingChannel = `https://sp.auth.adobe.com/api/v1/authenticate?reg_code=${authCode}&noflash=true&mso_id=Comcast_SSO&requestor_id=CookingChannelTV&domain_name=watch.cookingchanneltv.com&redirect_url=http%3A%2F%2Fwatch.cookingchanneltv.com%2Factivate%2Fthanks.html`
      const diy = `https://api.auth.adobe.com/api/v1/authenticate?reg_code=${authCode}&noflash=true&mso_id=Comcast_SSO&requestor_id=DIYNetwork&domain_name=adobe.com&redirect_url=http%3A%2F%2Fwatch.diynetwork.com%2Factivate%2Fthanks.html`
      const foodNetwork = `https://api.auth.adobe.com/api/v1/authenticate?reg_code=${authCode}&noflash=true&mso_id=Comcast_SSO&requestor_id=FoodNetwork&domain_name=watch.foodnetwork.com&redirect_url=http%3A%2F%2Fwatch.foodnetwork.com%2Factivate%2Fthanks.html`
      const fyi = `https://api.auth.adobe.com/api/v1/authenticate?reg_code=${authCode}&noflash=true&mso_id=Comcast_SSO&requestor_id=FYI&domain_name=fyi.tv&redirect_url=http%3A%2F%2Fwww.fyi.tv%2Factivate%3Fdevice%3Dappletv`
      const hgtv = `https://api.auth.adobe.com/api/v1/authenticate?reg_code=${authCode}&noflash=true&mso_id=Comcast_SSO&requestor_id=HGTV&domain_name=watch.hgtv.com&redirect_url=http%3A%2F%2Fwatch.hgtv.com%2Factivate%2Fthanks.html`
      const history = `https://api.auth.adobe.com/api/v1/authenticate?reg_code=${authCode}&noflash=true&mso_id=Comcast_SSO&requestor_id=HISTORY&domain_name=history.com&redirect_url=http%3A%2F%2Fwww.history.com%2Factivate%3Fdevice%3Dappletv`
      const lifeTime = `https://api.auth.adobe.com/api/v1/authenticate?reg_code=${authCode}&noflash=true&mso_id=Comcast_SSO&requestor_id=LIFETIME&domain_name=mylifetime.com&redirect_url=http%3A%2F%2Fwww.mylifetime.com%2Factivate%3Fdevice%3Dappletv`
      const travel = `https://api.auth.adobe.com/api/v1/authenticate?reg_code=${authCode}&noflash=true&mso_id=Comcast_SSO&requestor_id=TravelChannel&domain_name=watch.travelchannel.com&redirect_url=http%3A%2F%2Fwatch.travelchannel.com%2Factivate%2Fthanks.html%23appletv%26Travel`
      const activationUrls = {
        abc,
        amc,
        cookingChannel,
        diy,
        foodNetwork,
        fyi,
        hgtv,
        history,
        lifeTime,
        travel,
      }
      window.open(activationUrls[document.getElementById('network').value])
    }
  </script>
</body>

</html>