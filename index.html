<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> TV XFinity Auth</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.3.2/css/bulma.min.css" integrity="sha256-gFMi0ldgZQk7xqpcLc/KjAYdPTLqv5Nv5gOkIPxuZkY=" crossorigin="anonymous" />
  </head>
  <body>
    <section class="hero is-medium is-light is-bold is-fullheight">
      <div class="hero-body">
        <div class="container">
          <h1 class="title">
            Unlock  TV Apps with XFinity
          </h1>
          <label class="label">Activation Code</label>
          <p class="control">
            <input class="input" type="text" placeholder="ABC1234" id=activationCode>
          </p>
          <h3 class="subtitle">Network:</h3>
          <div class="control is-grouped">
            <p class="control"><button onclick=handleButtonClick(this) name=abc class="button is-primary">ABC</button></p>
            <p class="control"><button onclick=handleButtonClick(this) name=aAndE class="button is-primary">A&amp;E</button></p>
            <p class="control"><button onclick=handleButtonClick(this) name=amc class="button is-primary">AMC</button></p>
            <p class="control"><button onclick=handleButtonClick(this) name=cookingChannel class="button is-primary">Cooking Channel</button></p>
            <p class="control"><button onclick=handleButtonClick(this) name=diy class="button is-primary">DIY</button></p>
            <p class="control"><button onclick=handleButtonClick(this) name=foodNetwork class="button is-primary">Food Network</button></p>
            <p class="control"><button onclick=handleButtonClick(this) name=fyi class="button is-primary">FYI</button></p>
            <p class="control"><button onclick=handleButtonClick(this) name=hgtv class="button is-primary">HGTV</button></p>
            <p class="control"><button onclick=handleButtonClick(this) name=history class="button is-primary">History</button></p>
            <p class="control"><button onclick=handleButtonClick(this) name=lifeTime class="button is-primary">Lifetime</button></p>
            <p class="control"><button onclick=handleButtonClick(this) name=travel class="button is-primary">Travel</button></p>

          </div>
        </div>
      </div>
    </section>
    <script>
      function handleButtonClick(el) {
        const authCode = document.getElementById('activationCode').value.toUpperCase();
        const abc = `https://api.auth.adobe.com/api/v1/authenticate?reg_code=${authCode}&noflash=true&mso_id=Comcast_SSO&requestor_id=ABC&domain_name=watchabc.com&redirect_url=http%3A%2F%2Fwww.watchabc.com%2Factivate%3Fdevice%3Dappletv`
        const aAndE = `https://api.auth.adobe.com/api/v1/authenticate?reg_code=${authCode}&noflash=true&mso_id=Comcast_SSO&requestor_id=AETV&domain_name=aetv.com&redirect_url=http%3A%2F%2Fwww.aetv.com%2Factivate%3Fdevice%3Dappletv`
        const amc = `https://api.auth.adobe.com/api/v1/authenticate?reg_code=${authCode}&noflash=true&mso_id=Comcast_SSO&requestor_id=AMC&domain_name=amc.com&redirect_url=http%3A%2F%2Fwww.amc.com%2Factivate%3Fdevice%3Dappletv`
        const cookingChannel = `https://sp.auth.adobe.com/api/v1/authenticate?reg_code=${authCode}&noflash=true&mso_id=Comcast_SSO&requestor_id=CookingChannelTV&domain_name=watch.cookingchanneltv.com&redirect_url=http%3A%2F%2Fwatch.cookingchanneltv.com%2Factivate%2Fthanks.html`
        const diy = `https://api.auth.adobe.com/api/v1/authenticate?reg_code=${authCode}&noflash=true&mso_id=Comcast_SSO&requestor_id=DIYNetwork&domain_name=adobe.com&redirect_url=http%3A%2F%2Fwatch.diynetwork.com%2Factivate%2Fthanks.html`
        const foodNetwork = `https://api.auth.adobe.com/api/v1/authenticate?reg_code=${authCode}&noflash=true&mso_id=Comcast_SSO&requestor_id=FoodNetwork&domain_name=watch.foodnetwork.com&redirect_url=http%3A%2F%2Fwatch.foodnetwork.com%2Factivate%2Fthanks.html`
        const fyi = `https://api.auth.adobe.com/api/v1/authenticate?reg_code=${authCode}&noflash=true&mso_id=Comcast_SSO&requestor_id=FYI&domain_name=fyi.tv&redirect_url=http%3A%2F%2Fwww.fyi.tv%2Factivate%3Fdevice%3Dappletv`
        const hgtv = `https://api.auth.adobe.com/api/v1/authenticate?reg_code=${authCode}&noflash=true&mso_id=Comcast_SSO&requestor_id=HGTV&domain_name=watch.hgtv.com&redirect_url=http%3A%2F%2Fwatch.hgtv.com%2Factivate%2Fthanks.html`
        const history = `https://api.auth.adobe.com/api/v1/authenticate?reg_code=${authCode}&noflash=true&mso_id=Comcast_SSO&requestor_id=HISTORY&domain_name=history.com&redirect_url=http%3A%2F%2Fwww.history.com%2Factivate%3Fdevice%3Dappletv`
        const lifeTime = `https://api.auth.adobe.com/api/v1/authenticate?reg_code=${authCode}&noflash=true&mso_id=Comcast_SSO&requestor_id=LIFETIME&domain_name=mylifetime.com&redirect_url=http%3A%2F%2Fwww.mylifetime.com%2Factivate%3Fdevice%3Dappletv`
        const travel = `https://api.auth.adobe.com/api/v1/authenticate?reg_code=${authCode}&noflash=true&mso_id=Comcast_SSO&requestor_id=TravelChannel&domain_name=watch.travelchannel.com&redirect_url=http%3A%2F%2Fwatch.travelchannel.com%2Factivate%2Fthanks.html%23appletv%26Travel`
        switch (el.name) {
          case 'abc':
            window.open(abc);
            break;
          case 'aAndE':
            window.open(aAndE);
            break;
          case 'amc':
            window.open(amc);
            break;
          case 'cookingChannel':
            window.open(cookingChannel);
            break;
          case 'diy':
            window.open(diy);
            break;
          case 'foodNetwork':
            window.open(foodNetwork);
            break;
          case 'fyi':
            window.open(fyi);
            break;
          case 'hgtv':
            window.open(hgtv);
            break;
          case 'history':
            window.open(history);
            break;
          case 'lifeTime':
            window.open(lifeTime);
            break;
          case 'travel':
            window.open(travel);
            break;
          default:
            alert('error')
            return null;
        }
      }
    </script>
  </body>
</html>
